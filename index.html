<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Paisaje de Aprendizaje - Flipped Classroom Gamificado</title>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      padding: 0;
      background: #1a1a1a;
      color: #fff;
      font-family: 'Press Start 2P', monospace;
    }
    header {
      background: #000080;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem;
      border-bottom: 4px solid #00ffff;
    }
    header h1 {
      margin: 0;
      font-size: 1rem;
    }
    nav a {
      color: #00ffff;
      text-decoration: none;
      font-size: 0.75rem;
      margin: 0 0.5rem;
    }
    main {
      padding: 2rem;
    }
    section {
      margin-bottom: 2rem;
    }
    h2 {
      color: #ff00ff;
      font-size: 1.25rem;
      text-shadow: 2px 2px #000;
      margin-bottom: 0.5rem;
    }
    h3 {
      color: #00ff00;
      font-size: 1rem;
      text-shadow: 1px 1px #000;
      margin: 1rem 0 0.5rem;
    }
    p, label {
      font-size: 0.75rem;
      line-height: 1.2;
    }
    .btn {
      display: inline-block;
      padding: 0.75rem 1.5rem;
      margin: 0.5rem 0;
      background: #008000;
      color: #fff;
      text-decoration: none;
      border: 4px solid #00ff00;
      font-size: 0.75rem;
      box-shadow: 4px 4px 0 #000;
      cursor: pointer;
    }
    #progress-bar {
      width: 100%;
      background: #555;
      border: 4px solid #777;
      height: 16px;
      margin: 1rem 0;
    }
    #progress {
      height: 100%;
      width: 0;
      background: #00ff00;
    }
    #points {
      color: #ffff00;
    }
    img, iframe {
      image-rendering: pixelated;
    }
    /* contenedores para embeds */
    .embed-container {
      position: relative;
      width: 100%;
      overflow: hidden;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(63,69,81,0.16);
      margin: 1rem 0;
    }
    .embed-video {
      padding-top: 56.25%; /* 16:9 */
    }
    .embed-canva {
      padding-top: 66.6255%; /* proporción de tu Canva */
    }
    .embed-educaplay {
      padding-top: 86.79%; /* proporción de tu Educaplay */
    }
    .embed-container iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
    }
    textarea {
      width: 100%;
      background: #000;
      color: #fff;
      border: 4px solid #00ff00;
      box-shadow: 4px 4px 0 #000;
      font-family: 'Press Start 2P', monospace;
      font-size: 0.75rem;
      padding: 0.5rem;
      resize: vertical;
    }
    form div {
      margin-bottom: 1rem;
    }
  </style>
</head>
<body>
  <header>
    <div id="logo">
      <img src="logo.png" alt="Logo" style="height:48px;">
    </div>
    <h1>PAISAJE DE APRENDIZAJE</h1>
    <nav>
      <a href="#preclas">PRE-CLASE</a>
      <a href="#clase">EN CLASE</a>
      <a href="#progreso">PROGRESO</a>
      <a href="#autoeval">AUTOEVALUACIÓN</a>
    </nav>
  </header>

  <main>
    <!-- PRE-CLASE -->
    <section id="preclas">
      <h2>PRE-CLASE</h2>
      <p><strong>¿Qué es un Paisaje de Aprendizaje?</strong><br>
         Conjunto de recursos y espacios que facilitan el aprendizaje autónomo y colaborativo, adaptándose a ritmos y estilos personales.</p>

      <h3>Video Introductorio</h3>
      <div class="embed-container embed-video">
        <iframe 
          src="https://www.youtube.com/embed/FGWZi9XurtE?si=IN1u1ssIJqy7wivV"
          title="Video Introductorio"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
          allowfullscreen>
        </iframe>
      </div>

      <h3>El siguiente es un ejemplo</h3>
      <div class="embed-container embed-canva">
        <iframe 
          src="https://www.canva.com/design/DAGnxtOqDhk/XQkm7K8CXSo8RTbuDthpmw/view?embed"
          allowfullscreen>
        </iframe>
      </div>
    </section>

    <!-- EN CLASE -->
    <section id="clase">
      <h2>EN CLASE</h2>
      <p>Retos colaborativos para aplicar y crear.</p>

      <h3>Matching Paisaje de Aprendizaje</h3>
      <div class="embed-container embed-educaplay">
        <iframe 
          src="https://es.educaplay.com/juego/24585474-empareja_los_conceptos_del_paisaje_de_aprendizaje.html"
          allow="fullscreen; autoplay; allow-top-navigation-by-user-activation"
          allowfullscreen>
        </iframe>
      </div>
    </section>

    <!-- PROGRESO -->
    <section id="progreso">
      <h2>PROGRESO</h2>
      <div id="progress-bar"><div id="progress"></div></div>
      <p>Puntos: <span id="points">0</span></p>
    </section>

    <!-- AUTOEVALUACIÓN -->
    <section id="autoeval">
      <h2>AUTOEVALUACIÓN</h2>
      <p>Completa tus respuestas aquí mismo:</p>
      <form id="quiz">
        <div>
          <label for="q1">1. ¿Qué elemento permite seleccionar actividades según el ritmo?</label><br>
          <textarea id="q1" name="q1" rows="2"></textarea>
        </div>
        <div>
          <label for="q2">2. ¿Cómo se denomina la retroalimentación continua?</label><br>
          <textarea id="q2" name="q2" rows="2"></textarea>
        </div>
        <div>
          <label>3. Selecciona el recurso que combina texto, audio e imágenes:</label><br>
          <label><input type="radio" name="q3" value="Recurso multimodal"> Recurso multimodal</label><br>
          <label><input type="radio" name="q3" value="Evaluación formativa"> Evaluación formativa</label><br>
          <label><input type="radio" name="q3" value="Espacio de colaboración"> Espacio de colaboración</label>
        </div>
        <div>
          <label for="q4">4. ¿Cuál es la característica principal de una actividad asincrónica?</label><br>
          <textarea id="q4" name="q4" rows="2"></textarea>
        </div>
        <div>
          <label for="q5">5. ¿Qué nivel cognitivo favorece el marcado tras ver el video?</label><br>
          <textarea id="q5" name="q5" rows="2"></textarea>
        </div>
        <button type="submit" class="btn">Enviar respuestas</button>
      </form>
    </section>
  </main>

  <script>
    // gamificación de marcación
    document.querySelectorAll('.completar').forEach(btn =>
      btn.addEventListener('click', () => {
        const act = btn.dataset.activity;
        let comp = JSON.parse(localStorage.getItem('completed')) || {};
        if (!comp[act]) {
          comp[act] = true;
          localStorage.setItem('completed', JSON.stringify(comp));
          updateProgress();
        }
      })
    );
    function updateProgress() {
      const comp = JSON.parse(localStorage.getItem('completed')) || {};
      const total = document.querySelectorAll('.completar').length;
      const done = Object.keys(comp).length;
      document.getElementById('progress').style.width = (done/total*100) + '%';
      document.getElementById('points').textContent = done * 10;
    }
    updateProgress();

    // manejar envío de autoevaluación
    document.getElementById('quiz').addEventListener('submit', function(e) {
      e.preventDefault();
      let comp = JSON.parse(localStorage.getItem('completed')) || {};
      if (!comp['quiz']) {
        comp['quiz'] = true;
        localStorage.setItem('completed', JSON.stringify(comp));
        updateProgress();
      }
      this.querySelectorAll('textarea, input').forEach(i => i.disabled = true);
      alert('¡Respuestas enviadas! Gracias por tu participación.');
    });
  </script>
</body>
</html>
